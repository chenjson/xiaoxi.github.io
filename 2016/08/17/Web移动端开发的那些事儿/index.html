<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="web前端,webapp,html,css,javascript"><title>Web移动端开发的那些事儿 | 小希前端</title><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/4.2.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/grids-responsive-min.css"><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.0.0/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Web移动端开发的那些事儿</h1><a id="logo" href="/.">小希前端</a><p class="description">专注于前端开发、node方向</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 记录</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Web移动端开发的那些事儿</h1><div class="post-meta">Aug 17, 2016<script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><div class="post-content"><p>　   　最近做了一个针对微信移动端的项目，在开发中遇到了不少的坑，学到了也不少，发现有许多地方值得总结一下，以供做web移动端同学参考参考。</p>
<p>  <strong>一、单位</strong><br>　　说到移动终端，不得不提适配问题，大大小小的移动设备不但让android和ios开发的难过，，现在也让前端很是头疼，不过，方法总是比问题多，我们是革命的队伍，遇到问题就要上！<br>　　因为现如今市面上移动设备的分辨率大小不同，显然咱们常用的px单位在这个时候就有些不太灵光了，为此，css3出了一个新单位——rem，rem就是相对于根元素<html>的font-size来做计算,它是web移动端开发神器，因为它完美得解决了分辨率的适配问题。<br>　　举个栗子<br><img src="http://img.mukewang.com/57a8a72a0001465705120475.png" alt="图片描述"></html></p>
<p>　　如图这样，一个宽高各50px的盒子就出现了，很简单吧！发现没，有些像我们以前常用的em，不过rem是相对于根元素（html）的字体大小，em相对于父元素的字体大小。<br>　　虽然很简单，但是移动设备那么多，我们又怎么根据手机屏幕的分辨率不同，去设置<html>的字体大小呢？<br>我知道的方法有2个：<br>　　1）通过css媒体查询<br><img src="http://img.mukewang.com/57a8a7f60001c91404640412.png" alt="图片描述">
　　</html></p>
<p>　　如图所示，通过媒体查询的方式，只需要把常用的屏幕宽度考虑进去即可，能够满足大部分应用场景，不过这一做法不够严谨，处女座的你，怎么能满足呢？那就用js去设置fontSize吧。<br>　　2）通过js计算<br><img src="http://img.mukewang.com/57a8a873000196ae08570065.png" alt="图片描述"><br>　　如图所示，页面加载时，js获得设备的屏幕分辨率，可以计算出相应的字体的大小(那地方不一定是10，但是10好计算些),<br>这个方法可以适配所有屏幕的大小，这下就完美许多了。<br>　　不过有些时候会很麻烦，因为rem会涉及到换算的问题，比如70px的宽，根目录字体是12px,那换算公式为：70/12 = 5.83333333~，每次写一个单位都要用计算器去算，那就泪崩了，不过作为程序猿，怎么能让人去做这种事，这工作可以让Less或者Sass等预处理器去完成。</p>
<p> <strong>二、 使用<meta>标签中的viewport</strong><br>　　做web移动端开发，你以为有了rem就很完美 了？to young too simple,还得再meta标签中使用viewport定义屏幕，有了这个东西，麻麻再也不用担心我的移动端适配问题了，话不多说，直接上图<br><img src="http://img.mukewang.com/57a8aa000001ac6712340099.png" alt="图片描述"><br>　　有了这个<meta>标签帮忙，页面就差不多八九不离十了。</p>
<p> <strong>三、 弹性布局盒子布局</strong><br>　　以前PC端布局方式通常会使用float、margin、padding等方式布局，这些方法不仅有繁琐的计算，而且在移动端还容易出错。现在移动端，有更好的选择，使用flex布局方式。<br>　　举个栗子：用flex做tab。<br>　　html:<br><img src="http://img.mukewang.com/57a8ab010001226401800146.png" alt="图片描述"><br>　　css:<br><img src="http://img.mukewang.com/57a8ab2e0001101d02720174.png" alt="图片描述"><br>　　做均分的tab，应该是flexbox最常见的一个功能了，实现原理很简单，如图，只需要给“父元素”，“子元素”分别赋予“display：flex”,”flex：1″即可。子元素的宽度不会根据内容的长短而发生改变。前端同学增加或删减tab数量，只需要增减DOM结构即可，无需样式的修改。<br>　　一直以来这种布局方式都有兼容性问题，让前端同学想用，又不敢用，究其原因也就是即分不清它各个版本的编写规范和兼容性。值得惊喜的是，目前除了Opera mobile12，移动端的各大浏览器都很好支持flexbox的旧版语法的，但不包含flex的wrap属性。所以可以大胆用，不用太担心。</p>
<p> <strong>四、坑</strong><br>　　布局问题算是解决了，虽然现在看似很完美了，不过，还是有很多坑需要防范。<br>　　1、使用rem应注意什么？<br>　　a）做出来的效果与效果图有些许偏差。<br>为什么会出现这个原因呢？后来发现，这是因为浏览器对小数数值的处理各不相同导致。不同浏览器计算rem转换为px数值时，对于小数点后的数值的处理是有所偏差，rem计算偏差的根源是浏览器内核数字类型的区别，如果浏览器的内核数字类型是float类型，能够较好地支持有小数点的数值。当浏览器内核数字类型是int类型，不支持小数点，会对数字进行四舍五入，这样就会有偏差。如果元素越大偏差得就越明显！这个坑几乎无法避免，只能让他更好的适应最多的浏览器。比如chroem内核。<br>　　b）雪碧图定位问题<br>由上面我们可以得知，rem的换算成px的尺寸非严格精确，如果雪碧图图标之间的距离过小，就可能导致图标过界，因此图与图之间的间隙需要留相应大一点。<br>　　c）rem单位最好不用在PC端<br>　　举个栗子：<br>代码：<br><img src="http://img.mukewang.com/57a8ad840001b77103250427.png" alt="图片描述"><br>　　看了代码，大家应该猜到，这应该是两个完全相同的盒子才对，不过，效果却是：<br>PC效果:<br><img src="http://img.mukewang.com/57a8adb70001596e01820257.png" alt="图片描述"><br>iPhone６效果<br><img src="http://img.mukewang.com/57a8adc7000167f105170592.png" alt="图片描述"><br>　　从效果得知，PC端浏览器对rem单位支持并不友好，终其原因，我也不得而知，望有知道的同学，多多分享。<br>　　2、使用弹性盒子模型需要注意的问题。<br>　　a)虽然移动端的各大浏览器都是支持flexbox的旧版语法的，但是还是得有兼容性写法;<br>　　b)在开发的时候，我发现在使用弹性盒子模型时，如果涉及到文字的时候需要注意，在li里写上“我们”和“我们的”，分别是两个字和三个字。会有不同的宽度而导致不均分，解决办法，如上面css所示，我设置了子元素width为5%（只有设置了li是统一的width就行，不一定需要是5%）就可以解决这个问题。</p>
<p>  <strong>五、总结</strong><br>　　说到这儿，web移动端开发中长遇到的问题基本上算是解决了，不过，学这些还不够，想做好web移动端开发，还是需要学习很多很多东西（比如性能、GUP加速、技术选型等）才能做出用户体验超好的web页面，还有，rem也并不是万能的，也有一些场景是不适于使用rem的，比如 当用作图片或者一些不能缩放的展示时，必须要使用固定的px值，因为缩放可能会导致图片压缩变形等。</p>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://10.8.76.41:4000/2016/08/17/Web移动端开发的那些事儿/" data-id="cirzx9ye60001wor04epevvl6" class="article-share-link">分享到</a><div class="tags"><a href="/tags/webapp/">webapp</a><a href="/tags/html/">html</a><a href="/tags/css/">css</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://10.8.76.41:4000"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/webapp/" style="font-size: 15px;">webapp</a> <a href="/tags/html/" style="font-size: 15px;">html</a> <a href="/tags/css/" style="font-size: 15px;">css</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2016/08/17/Web移动端开发的那些事儿/">Web移动端开发的那些事儿</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://www.html58.cn/" title="58前端" target="_blank">58前端</a><ul></ul><a href="http://www.html58.cn/" title="58前端" target="_blank">58前端</a><ul></ul><a href="http://www.html58.cn/" title="site-name3" target="_blank">site-name3</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">© <a href="/." rel="nofollow">小希前端.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>